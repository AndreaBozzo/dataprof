[package]
name = "dataprof"
version = "0.1.0"
edition = "2021"

[dependencies]
# Core
polars = { version = "0.35", features = ["lazy", "csv", "temporal", "strings"] }

# CLI
clap = { version = "4.5", features = ["derive", "cargo"] }
indicatif = "0.17"  # Progress bars
colored = "2.1"     # Colored terminal output

# Performance
rayon = "1.10"      # Parallel processing
ahash = "0.8"       # Faster hashmaps

# Error handling
anyhow = "1.0"
thiserror = "1.0"

# Utilities
chrono = "0.4"
regex = "1.10"
once_cell = "1.19"  # For regex caching

[dev-dependencies]
criterion = "0.5"   # Benchmarking
tempfile = "3.10"   # Test files

[[bin]]
name = "dataprof"
path = "src/main.rs"

[lib]
name = "dataprof"
path = "src/lib.rs"

# Debug profile per sviluppo veloce
[profile.dev]
opt-level = 1        # Ottimizzazione minima per compilazione veloce
debug = true         # Mantieni simboli debug
split-debuginfo = "packed"  # Su Windows
incremental = true   # Build incrementali

# Profile per test veloci
[profile.test]
opt-level = 1

# Release profile ottimizzato
[profile.release]
lto = true
codegen-units = 1
opt-level = 3
panic = "abort"      # Riduce dimensione binario
